(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{1513:function(e,s,t){Promise.resolve().then(t.bind(t,4693))},4693:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var r=t(3827),n=t(4090),a=t(1126);function l(){return(0,r.jsx)("button",{onClick:()=>{window.location.reload()},className:"bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:shadow-xl transition-all",title:"Refresh page",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})}function i(){var e;let{data:s}=(0,a.useSession)();return s?(0,r.jsx)("button",{onClick:()=>{(0,a.signOut)({callbackUrl:"/"})},className:"bg-white border border-gray-300 rounded-full p-2 shadow-lg hover:shadow-xl transition-all",title:"Logout (".concat(null===(e=s.user)||void 0===e?void 0:e.email,")"),children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}):null}function o(){return(0,r.jsxs)("div",{className:"fixed top-4 right-4 z-50 flex space-x-2",children:[(0,r.jsx)(i,{}),(0,r.jsx)(l,{})]})}function c(e){let{onNext:s,initial:t}=e,[a,l]=(0,n.useState)(t||""),[i,o]=(0,n.useState)(!1);return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Let's get started. What's your gender?"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"This helps tailor your health guidance."}),(0,r.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,r.jsx)("button",{className:"flex-1 p-4 rounded border ".concat("male"===a?"bg-green-600 text-white":"border-green-600 text-green-600 hover:bg-green-50"),onClick:()=>l("male"),children:"Male"}),(0,r.jsx)("button",{className:"flex-1 p-4 rounded border ".concat("female"===a?"bg-green-600 text-white":"border-green-600 text-green-600 hover:bg-green-50"),onClick:()=>l("female"),children:"Female"})]}),(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("input",{type:"checkbox",id:"agree-terms",checked:i,onChange:e=>o(e.target.checked),className:"mr-2"}),(0,r.jsxs)("label",{htmlFor:"agree-terms",className:"text-sm text-gray-700",children:["I agree to the ",(0,r.jsx)("a",{href:"/terms",target:"_blank",className:"text-helfi-green underline",children:"Terms and Conditions"})," and ",(0,r.jsx)("a",{href:"/privacy",target:"_blank",className:"text-helfi-green underline",children:"Privacy Policy"})]})]}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors w-full disabled:bg-gray-300",disabled:!a||!i,onClick:()=>a&&i&&s({gender:a}),children:"Continue"})]})})}let d=(0,n.memo)(function(e){let{onNext:s,onBack:t,initial:a}=e,[l,i]=(0,n.useState)((null==a?void 0:a.weight)||""),[o,c]=(0,n.useState)((null==a?void 0:a.height)||""),[d,x]=(0,n.useState)((null==a?void 0:a.feet)||""),[g,m]=(0,n.useState)((null==a?void 0:a.inches)||""),[h,u]=(0,n.useState)((null==a?void 0:a.bodyType)||""),[b,p]=(0,n.useState)("metric"),y=(0,n.useCallback)(()=>{s({weight:l,height:"metric"===b?o:"".concat(d,"'").concat(g,'"'),feet:d,inches:g,bodyType:h,unit:b})},[l,o,d,g,h,b,s]),j=(0,n.useCallback)(e=>{p(e)},[]),f=(0,n.useCallback)(e=>{u(e)},[]),v={ectomorph:"Naturally lean and thin, with difficulty gaining weight and muscle. Fast metabolism.",mesomorph:"Naturally muscular and athletic build. Gains muscle easily and maintains weight well.",endomorph:"Naturally broader and rounder physique. Gains weight easily, slower metabolism."};return(0,r.jsxs)("div",{className:"max-w-md mx-auto mt-12 p-6 bg-white rounded shadow",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Enter your current weight"}),(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:"Used to personalize health and supplement recommendations."}),(0,r.jsxs)("div",{className:"flex justify-end mb-2",children:[(0,r.jsx)("button",{className:"px-3 py-1 rounded-l ".concat("metric"===b?"bg-helfi-green text-white":"bg-gray-100"),onClick:()=>j("metric"),children:"kg/cm"}),(0,r.jsx)("button",{className:"px-3 py-1 rounded-r ".concat("imperial"===b?"bg-helfi-green text-white":"bg-gray-100"),onClick:()=>j("imperial"),children:"lbs/in"})]}),(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 mb-4 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"number",inputMode:"numeric",placeholder:"Weight (".concat("metric"===b?"kg":"lbs",")"),value:l,onChange:e=>i(e.target.value)}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"How tall are you?"}),(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:"Height helps us calculate key health metrics."}),(0,r.jsx)("div",{className:"mb-4",children:"metric"===b?(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"number",inputMode:"numeric",placeholder:"Height (cm)",value:o,onChange:e=>c(e.target.value)}):(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"number",inputMode:"numeric",placeholder:"Feet",value:d,onChange:e=>x(e.target.value)})}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"number",inputMode:"numeric",placeholder:"Inches",value:g,onChange:e=>m(e.target.value)})})]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Choose your body type (optional)"}),(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:"Helps tailor insights to your body composition."}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["ectomorph","mesomorph","endomorph"].map(e=>(0,r.jsxs)("button",{className:"w-full p-3 rounded border ".concat(h===e?"bg-green-600 text-white":"border-green-600 text-green-600 hover:bg-green-50"," relative group transition-colors"),onClick:()=>f(e),children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:e.charAt(0).toUpperCase()+e.slice(1)}),(0,r.jsx)("span",{className:"text-xs bg-gray-200 text-gray-600 rounded-full w-5 h-5 flex items-center justify-center cursor-help hover:bg-gray-300 transition-colors border border-gray-300",children:"?"})]}),(0,r.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none w-48 z-10",children:[v[e],(0,r.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]},e))}),(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("button",{className:"px-8 py-2 rounded border border-gray-400 text-gray-600 hover:bg-gray-50 transition-colors",onClick:()=>f(""),children:"Skip"})})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{className:"border border-green-600 text-green-600 px-6 py-3 rounded-lg hover:bg-green-600 hover:text-white transition-colors",onClick:t,children:"Back"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",disabled:!l||("metric"===b?!o:!d||!g),onClick:y,children:"Next"})]})]})});function x(e){let{onNext:s,onBack:t,initial:a}=e,[l,i]=(0,n.useState)((null==a?void 0:a.exerciseFrequency)||""),[o,c]=(0,n.useState)((null==a?void 0:a.exerciseTypes)||[]),[d,x]=(0,n.useState)("");return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"How often do you exercise?"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"This helps us understand your activity level for better recommendations."}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("select",{className:"w-full rounded-lg border border-gray-300 px-3 py-3 focus:border-green-500 focus:ring-1 focus:ring-green-500 text-gray-700",value:l,onChange:e=>i(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Select frequency..."}),(0,r.jsx)("option",{value:"Every Day",children:"Every Day"}),(0,r.jsx)("option",{value:"1 day a week",children:"1 day a week"}),(0,r.jsx)("option",{value:"2 days a week",children:"2 days a week"}),(0,r.jsx)("option",{value:"3 days a week",children:"3 days a week"}),(0,r.jsx)("option",{value:"4 days a week",children:"4 days a week"}),(0,r.jsx)("option",{value:"5 days a week",children:"5 days a week"}),(0,r.jsx)("option",{value:"6 days a week",children:"6 days a week"})]})}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"What type of exercise do you do?"}),(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:"Select all that apply to your routine."}),(0,r.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"walking",checked:o.includes("Walking"),onChange:e=>{e.target.checked?c([...o,"Walking"]):c(o.filter(e=>"Walking"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"walking",className:"text-gray-700 cursor-pointer",children:"Walking"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"running",checked:o.includes("Running"),onChange:e=>{e.target.checked?c([...o,"Running"]):c(o.filter(e=>"Running"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"running",className:"text-gray-700 cursor-pointer",children:"Running"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"swimming",checked:o.includes("Swimming"),onChange:e=>{e.target.checked?c([...o,"Swimming"]):c(o.filter(e=>"Swimming"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"swimming",className:"text-gray-700 cursor-pointer",children:"Swimming"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"biking",checked:o.includes("Bike riding"),onChange:e=>{e.target.checked?c([...o,"Bike riding"]):c(o.filter(e=>"Bike riding"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"biking",className:"text-gray-700 cursor-pointer",children:"Bike riding"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"mma",checked:o.includes("MMA"),onChange:e=>{e.target.checked?c([...o,"MMA"]):c(o.filter(e=>"MMA"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"mma",className:"text-gray-700 cursor-pointer",children:"MMA"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"boxing",checked:o.includes("Boxing"),onChange:e=>{e.target.checked?c([...o,"Boxing"]):c(o.filter(e=>"Boxing"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"boxing",className:"text-gray-700 cursor-pointer",children:"Boxing"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"jujitsu",checked:o.includes("Jujitsu"),onChange:e=>{e.target.checked?c([...o,"Jujitsu"]):c(o.filter(e=>"Jujitsu"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"jujitsu",className:"text-gray-700 cursor-pointer",children:"Jujitsu"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"karate",checked:o.includes("Karate"),onChange:e=>{e.target.checked?c([...o,"Karate"]):c(o.filter(e=>"Karate"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"karate",className:"text-gray-700 cursor-pointer",children:"Karate"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"bodybuilding",checked:o.includes("Body Building"),onChange:e=>{e.target.checked?c([...o,"Body Building"]):c(o.filter(e=>"Body Building"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"bodybuilding",className:"text-gray-700 cursor-pointer",children:"Body Building"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"yoga",checked:o.includes("Yoga"),onChange:e=>{e.target.checked?c([...o,"Yoga"]):c(o.filter(e=>"Yoga"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"yoga",className:"text-gray-700 cursor-pointer",children:"Yoga"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",id:"pilates",checked:o.includes("Pilates"),onChange:e=>{e.target.checked?c([...o,"Pilates"]):c(o.filter(e=>"Pilates"!==e))},className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("label",{htmlFor:"pilates",className:"text-gray-700 cursor-pointer",children:"Pilates"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Other (specify):"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"===e.key&&d.trim()&&(e.preventDefault(),o.includes(d.trim())||(c([...o,d.trim()]),x("")))},placeholder:"Enter custom exercise type",className:"flex-1 rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500"}),(0,r.jsx)("button",{onClick:()=>{d.trim()&&!o.includes(d.trim())&&(c([...o,d.trim()]),x(""))},disabled:!d.trim(),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",children:"Add"})]})]}),o.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected exercises:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,s)=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:[e,(0,r.jsx)("button",{onClick:()=>c(o.filter(s=>s!==e)),className:"text-green-600 hover:text-green-800 ml-1",children:"\xd7"})]},s))})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("button",{className:"border border-green-600 text-green-600 px-6 py-3 rounded-lg hover:bg-green-600 hover:text-white transition-colors",onClick:t,children:"Back"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",disabled:!l,onClick:()=>s({exerciseFrequency:l,exerciseTypes:o}),children:"Continue"})]})]})})}function g(e){let{onNext:s,onBack:t,initial:a}=e,[l,i]=(0,n.useState)((null==a?void 0:a.goals)||[]),[o,c]=(0,n.useState)((null==a?void 0:a.customGoals)||[]),[d,x]=(0,n.useState)(""),[g,m]=(0,n.useState)(!1),[h,u]=(0,n.useState)(-1),[b,p]=(0,n.useState)(new Set),y=[...o,"Acne","Allergies","Anxiety","Asthma","Bloating","Bowel Movements","Brain Fog","Cold Sores","Constipation","Depression","Diarrhea","Digestion","Dry Skin","Eczema","Energy","Erection Quality","Eye Irritation","Fatigue","Gas","Hair Loss","Headaches","Heartburn","IBS Flare","Insomnia","Irritability","Itchy Skin","Joint Pain","Libido","Mood","Muscle Cramps","Nausea","PMS Symptoms","Rashes","Sleep Quality","Stress","Urinary Frequency","Weight Fluctuation"],j=d.trim()?y.filter(e=>e.toLowerCase().includes(d.toLowerCase())&&!l.includes(e)).sort((e,s)=>{let t=e.toLowerCase().startsWith(d.toLowerCase()),r=s.toLowerCase().startsWith(d.toLowerCase());return t&&!r?-1:!t&&r?1:e.localeCompare(s)}).slice(0,5):[],f=["Anxiety","Energy","Sleep Quality","Digestion","Stress","Mood"].filter(e=>!l.includes(e)),v=e=>{x(e),m(!0),u(-1)},N=e=>{l.includes(e)||i(s=>[...s,e]),x(""),m(!1),u(-1)},k=e=>{i(s=>s.filter(s=>s!==e)),o.includes(e)&&c(s=>s.filter(s=>s!==e))},w=()=>{let e=d.trim();e&&!y.includes(e)&&(c(s=>[...s,e]),i(s=>[...s,e]),x(""),m(!1))},C=()=>{s({goals:l,customGoals:o})};return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.length>0&&(0,r.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 -mx-6 px-6 py-3 mb-4 z-10",children:(0,r.jsxs)("button",{className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",onClick:C,children:["Continue with ",l.length," goal",l.length>1?"s":""," →"]})}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Which health concerns are you most interested in improving?"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"Search and select the areas you'd like to focus on. You can add custom concerns too! \uD83C\uDFAF"}),l.length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected (",l.length,"):"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>(0,r.jsxs)("div",{className:"inline-flex items-center gap-1 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:[(0,r.jsx)("span",{children:e}),(0,r.jsx)("button",{onClick:()=>k(e),className:"hover:bg-green-200 rounded-full p-0.5 transition-colors","aria-label":"Remove ".concat(e),children:(0,r.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e))})]}),(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-4 py-3 pr-10 focus:border-green-500 focus:ring-1 focus:ring-green-500 transition-colors",type:"text",placeholder:"Search health concerns or add your own...",value:d,onChange:e=>v(e.target.value),onFocus:()=>{m(!0)},onBlur:()=>{setTimeout(()=>m(!1),150)},onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),h>=0&&j[h]?N(j[h]):d.trim()&&w()):"ArrowDown"===e.key?(e.preventDefault(),u(e=>e<j.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),u(e=>e>0?e-1:-1)):"Escape"===e.key&&(m(!1),u(-1))}}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),g&&(0,r.jsx)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white rounded-lg border border-gray-200 shadow-lg max-h-60 overflow-y-auto",children:j.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Suggestions"}),j.map((e,s)=>(0,r.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors ".concat(s===h?"bg-green-50 text-green-700":""),onClick:()=>N(e),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:e}),s===h&&(0,r.jsx)("span",{className:"text-green-500 text-sm",children:"↵"})]})},e))]}):d.trim()?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Add Custom"}),(0,r.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors text-green-600",onClick:w,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,r.jsxs)("span",{children:['Add "',d.trim(),'"']})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 border-b border-gray-100",children:"Popular"}),f.slice(0,6).map(e=>(0,r.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors",onClick:()=>N(e),children:e},e))]})})]}),!g&&!d&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"Browse by category:"}),(0,r.jsx)("div",{className:"space-y-3",children:Object.entries({"Mental Health":["Anxiety","Depression","Stress","Mood","Irritability","Brain Fog","Insomnia","Sleep Quality"],Digestive:["Bloating","Constipation","Diarrhea","Digestion","Gas","Heartburn","IBS Flare","Nausea","Bowel Movements"],"Skin & Hair":["Acne","Dry Skin","Eczema","Itchy Skin","Rashes","Hair Loss","Cold Sores"],"Energy & Physical":["Energy","Fatigue","Joint Pain","Muscle Cramps","Headaches","Weight Fluctuation"],Other:["Allergies","Asthma","Eye Irritation","Erection Quality","Libido","PMS Symptoms","Urinary Frequency"]}).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gray-50 px-3 py-2 text-sm font-medium text-gray-700",children:s}),(0,r.jsx)("div",{className:"p-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(b.has(s)?t:t.slice(0,6)).filter(e=>!l.includes(e)).map(e=>(0,r.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1 text-sm border border-green-200 text-green-700 rounded-full hover:bg-green-50 transition-colors",children:e},e)),t.filter(e=>!l.includes(e)).length>6&&!b.has(s)&&(0,r.jsxs)("button",{onClick:()=>{p(e=>new Set(Array.from(e).concat(s)))},className:"px-3 py-1 text-sm text-gray-500 border border-gray-200 rounded-full hover:bg-gray-50",children:["+",t.filter(e=>!l.includes(e)).length-6," more"]}),b.has(s)&&t.filter(e=>!l.includes(e)).length>6&&(0,r.jsx)("button",{onClick:()=>{p(e=>{let t=new Set(e);return t.delete(s),t})},className:"px-3 py-1 text-sm text-gray-500 border border-gray-200 rounded-full hover:bg-gray-50",children:"Show less"})]})})]},s)})})]}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("button",{className:"border border-green-600 text-green-600 px-6 py-3 rounded-lg hover:bg-green-600 hover:text-white transition-colors",onClick:t,children:"Back"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",disabled:0===l.length,onClick:C,children:"Next"})]})]})})}function m(e){let{onNext:s,onBack:t,initial:a}=e,[l,i]=(0,n.useState)((null==a?void 0:a.supplements)||[]),[o,c]=(0,n.useState)(""),[d,x]=(0,n.useState)(""),[g,m]=(0,n.useState)([]),[h,u]=(0,n.useState)(null),[b,p]=(0,n.useState)(null),[y,j]=(0,n.useState)("photo"),[f,v]=(0,n.useState)(""),[N,k]=(0,n.useState)([]),w=["Morning","Afternoon","Evening","Before Bed"],C=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s?k:m)(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},S=()=>{"manual"===y&&o&&d&&g.length>0?(i(e=>[...e,{name:o,dosage:d,timing:g,method:"manual"}]),c(""),x(""),m([])):"photo"===y&&h&&f&&N.length>0&&(i(e=>[...e,{frontImage:h.name,backImage:null==b?void 0:b.name,method:"photo",name:h.name.split(".")[0],dosage:f,timing:N}]),u(null),p(null),v(""),k([]))},B=e=>{i(s=>s.filter((s,t)=>t!==e))};return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Upload your supplements"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"Add photos or enter manually to get AI guidance on interactions and optimizations."}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex rounded-lg border border-gray-200 p-1",children:[(0,r.jsx)("button",{onClick:()=>j("photo"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("photo"===y?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-50"),children:"\uD83D\uDCF7 Upload Photos"}),(0,r.jsx)("button",{onClick:()=>j("manual"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("manual"===y?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-50"),children:"⌨️ Enter Manually"})]})}),"photo"===y&&(0,r.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Front of supplement bottle/packet *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:e=>{var s;return u((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)},className:"hidden",id:"front-image"}),(0,r.jsx)("label",{htmlFor:"front-image",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:h?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-green-600 text-2xl mb-1",children:"✓"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:h.name})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-2xl mb-1",children:"\uD83D\uDCF7"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Tap to take photo"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Back of supplement bottle/packet (optional)"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:e=>{var s;return p((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)},className:"hidden",id:"back-image"}),(0,r.jsx)("label",{htmlFor:"back-image",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:b?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-green-600 text-2xl mb-1",children:"✓"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:b.name})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-2xl mb-1",children:"\uD83D\uDCF7"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Tap to take photo"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosage *"}),(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"e.g., 1000mg, 2 capsules",value:f,onChange:e=>v(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"When do you take this supplement? *"}),(0,r.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:N.includes(e),onChange:()=>C(e,!0),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},e))})]}),(0,r.jsx)("button",{className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",onClick:S,disabled:!h||!f||0===N.length,children:"Add Supplement Photos"})]}),"manual"===y&&(0,r.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"Supplement name",value:o,onChange:e=>c(e.target.value)}),(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"Dosage (e.g., 1000mg)",value:d,onChange:e=>x(e.target.value)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"When do you take this supplement? *"}),(0,r.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:g.includes(e),onChange:()=>C(e,!1),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},e))})]}),(0,r.jsx)("button",{className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",onClick:S,disabled:!o||!d||0===g.length,children:"Add Supplement"})]}),l.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["Added Supplements (",l.length,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:l.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-1",children:"photo"===e.method?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-medium",children:["\uD83D\uDCF7 ",e.name]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Photos: Front ",e.backImage?"+ Back":"only"]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.dosage," - ",Array.isArray(e.timing)?e.timing.join(", "):e.timing]})]})}),(0,r.jsx)("button",{onClick:()=>B(s),className:"text-red-500 hover:text-red-700 p-1 transition-colors",title:"Remove supplement",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},s))})]}),l.length>0&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{className:"text-blue-600 text-xl",children:"\uD83E\uDD16"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-blue-900",children:"AI Analysis Ready"}),(0,r.jsx)("div",{className:"text-sm text-blue-700",children:"We'll analyze your supplements for interactions, optimal timing, and missing nutrients."})]})]})}),(0,r.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,r.jsx)("button",{className:"border border-green-600 text-green-600 px-6 py-3 rounded-lg hover:bg-green-600 hover:text-white transition-colors",onClick:t,children:"Back"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",onClick:()=>s({supplements:l}),children:"Next"})]})]})})}function h(e){let{onNext:s,onBack:t,initial:a}=e,[l,i]=(0,n.useState)((null==a?void 0:a.medications)||[]),[o,c]=(0,n.useState)(""),[d,x]=(0,n.useState)(""),[g,m]=(0,n.useState)([]),[h,u]=(0,n.useState)(null),[b,p]=(0,n.useState)(null),[y,j]=(0,n.useState)("photo"),[f,v]=(0,n.useState)(""),[N,k]=(0,n.useState)([]),w=["Morning","Afternoon","Evening","Before Bed"],C=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s?k:m)(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},S=()=>{"manual"===y&&o&&d&&g.length>0?(i(e=>[...e,{name:o,dosage:d,timing:g,method:"manual"}]),c(""),x(""),m([])):"photo"===y&&h&&f&&N.length>0&&(i(e=>[...e,{frontImage:h.name,backImage:null==b?void 0:b.name,method:"photo",name:h.name.split(".")[0],dosage:f,timing:N}]),u(null),p(null),v(""),k([]))},B=e=>{i(s=>s.filter((s,t)=>t!==e))};return(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add your medications"}),(0,r.jsx)("p",{className:"mb-6 text-gray-600",children:"Upload photos or enter manually to check for supplement-medication interactions."}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex rounded-lg border border-gray-200 p-1",children:[(0,r.jsx)("button",{onClick:()=>j("photo"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("photo"===y?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-50"),children:"\uD83D\uDCF7 Upload Photos"}),(0,r.jsx)("button",{onClick:()=>j("manual"),className:"flex-1 px-3 py-2 rounded-md text-sm transition-colors ".concat("manual"===y?"bg-green-600 text-white":"text-gray-600 hover:bg-gray-50"),children:"⌨️ Enter Manually"})]})}),"photo"===y&&(0,r.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Front of medication bottle/packet *"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:e=>{var s;return u((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)},className:"hidden",id:"med-front-image"}),(0,r.jsx)("label",{htmlFor:"med-front-image",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:h?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-green-600 text-2xl mb-1",children:"✓"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:h.name})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-2xl mb-1",children:"\uD83D\uDCF7"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Tap to take photo"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Back of medication bottle/packet (optional)"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",capture:"environment",onChange:e=>{var s;return p((null===(s=e.target.files)||void 0===s?void 0:s[0])||null)},className:"hidden",id:"med-back-image"}),(0,r.jsx)("label",{htmlFor:"med-back-image",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:b?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-green-600 text-2xl mb-1",children:"✓"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:b.name})]}):(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-gray-400 text-2xl mb-1",children:"\uD83D\uDCF7"}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"Tap to take photo"})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dosage *"}),(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"e.g., 10mg, 1 tablet",value:f,onChange:e=>v(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"When do you take this medication? *"}),(0,r.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:N.includes(e),onChange:()=>C(e,!0),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},e))})]}),(0,r.jsx)("button",{className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",onClick:S,disabled:!h||!f||0===N.length,children:"Add Medication Photos"})]}),"manual"===y&&(0,r.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"Medication name",value:o,onChange:e=>c(e.target.value)}),(0,r.jsx)("input",{className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:border-green-500 focus:ring-1 focus:ring-green-500",type:"text",placeholder:"Dosage (e.g., 10mg)",value:d,onChange:e=>x(e.target.value)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"When do you take this medication? *"}),(0,r.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:g.includes(e),onChange:()=>C(e,!1),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},e))})]}),(0,r.jsx)("button",{className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",onClick:S,disabled:!o||!d||0===g.length,children:"Add Medication"})]}),l.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["Added Medications (",l.length,")"]}),(0,r.jsx)("div",{className:"space-y-2",children:l.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"flex-1",children:"photo"===e.method?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-medium",children:["\uD83D\uDC8A ",e.name]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Photos: Front ",e.backImage?"+ Back":"only"]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.dosage," - ",Array.isArray(e.timing)?e.timing.join(", "):e.timing]})]})}),(0,r.jsx)("button",{onClick:()=>B(s),className:"text-red-500 hover:text-red-700 p-1 transition-colors",title:"Remove medication",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},s))})]}),l.length>0&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-orange-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{className:"text-orange-600 text-xl",children:"⚠️"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-orange-900",children:"Important Safety Check"}),(0,r.jsx)("div",{className:"text-sm text-orange-700",children:"We'll analyze potential interactions between your medications and supplements."})]})]})}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{className:"w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300",onClick:()=>s({medications:l}),disabled:0===l.length,children:"Analyze for Interactions & Contradictions"}),(0,r.jsx)("button",{className:"w-full border border-green-600 text-green-600 px-6 py-3 rounded-lg hover:bg-green-600 hover:text-white transition-colors",onClick:t,children:"Back"})]})]})})}function u(e){let{onBack:s,data:t}=e;return(0,r.jsxs)("div",{className:"max-w-md mx-auto mt-12 p-6 bg-white rounded shadow",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Here's what we have so far"}),(0,r.jsx)("p",{className:"mb-4 text-gray-600",children:"Double-check your inputs before we take you to your dashboard."}),(0,r.jsxs)("div",{className:"mb-4 text-left",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Gender:"})," ",t.gender]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Weight:"})," ",t.weight]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Height:"})," ",t.height]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Body Type:"})," ",t.bodyType]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Exercise Frequency:"})," ",t.exerciseFrequency]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Exercise Types:"})," ",(t.exerciseTypes||[]).join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Health Goals:"})," ",(t.goals||[]).join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Supplements:"})," ",(t.supplements||[]).map(e=>"".concat(e.name," (").concat(e.dosage,", ").concat(Array.isArray(e.timing)?e.timing.join(", "):e.timing,")")).join("; ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"Medications:"})," ",(t.medications||[]).map(e=>"".concat(e.name," (").concat(e.dosage,", ").concat(Array.isArray(e.timing)?e.timing.join(", "):e.timing,")")).join("; ")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("b",{children:"AI Insights:"})," ","yes"===t.wantInsights?"Yes":"No"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{className:"btn-secondary",onClick:s,children:"Back"}),(0,r.jsx)("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{localStorage.setItem("onboardingData",JSON.stringify(t)),window.location.href="/dashboard"},children:"Confirm & Begin"})]})]})}function b(){let e=["Gender","Physical","Exercise","Health Goals","Supplements","Medications","Review"],[s,t]=(0,n.useState)(0),[a,l]=(0,n.useState)({});(0,n.useEffect)(()=>{let e=localStorage.getItem("onboardingData");if(e)try{let s=JSON.parse(e);l(s)}catch(e){console.error("Error loading existing data:",e)}},[]),(0,n.useEffect)(()=>{let e=()=>{window.scrollTo({top:0,left:0,behavior:"instant"});let e=document.getElementById("onboarding-container");e&&(e.scrollTop=0);let s=document.querySelector(".sticky");s&&s.scrollIntoView({behavior:"instant",block:"start"})};e();let s=setTimeout(e,50);return()=>clearTimeout(s)},[s]);let i=s=>{l(e=>({...e,...s})),t(s=>{let t=Math.min(e.length-1,s+1);return requestAnimationFrame(()=>{window.scrollTo({top:0,left:0,behavior:"instant"});let e=document.getElementById("onboarding-container");e&&(e.scrollTop=0)}),t})},b=()=>{t(e=>(requestAnimationFrame(()=>{window.scrollTo({top:0,left:0,behavior:"instant"});let e=document.getElementById("onboarding-container");e&&(e.scrollTop=0)}),Math.max(0,e-1)))};return(0,r.jsxs)("div",{className:"fixed inset-0 bg-gray-50 overflow-y-auto",id:"onboarding-container",children:[(0,r.jsx)(o,{}),(0,r.jsxs)("div",{className:"min-h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 safe-area-inset-top",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Setup Profile"}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[s+1," of ",e.length]})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:"".concat((s+1)/e.length*100,"%")}})})]}),(0,r.jsxs)("div",{className:"flex-1 px-4 py-6",children:[(0,r.jsx)("div",{style:{display:0===s?"block":"none"},children:(0,r.jsx)(c,{onNext:i,initial:a.gender},"gender")}),(0,r.jsx)("div",{style:{display:1===s?"block":"none"},children:(0,r.jsx)(d,{onNext:i,onBack:b,initial:a},"physical")}),(0,r.jsx)("div",{style:{display:2===s?"block":"none"},children:(0,r.jsx)(x,{onNext:i,onBack:b,initial:a},"exercise")}),(0,r.jsx)("div",{style:{display:3===s?"block":"none"},children:(0,r.jsx)(g,{onNext:i,onBack:b,initial:a},"health")}),(0,r.jsx)("div",{style:{display:4===s?"block":"none"},children:(0,r.jsx)(m,{onNext:i,onBack:b,initial:a},"supplements")}),(0,r.jsx)("div",{style:{display:5===s?"block":"none"},children:(0,r.jsx)(h,{onNext:i,onBack:b,initial:a},"medications")}),(0,r.jsx)("div",{style:{display:6===s?"block":"none"},children:(0,r.jsx)(u,{onBack:b,data:a},"review")})]})]})]})}}},function(e){e.O(0,[126,971,69,744],function(){return e(e.s=1513)}),_N_E=e.O()}]);